---
layout: post
title: "期权投资策略（三）：covered call"
author: "Yang"
header-style: text
tags:
  - option investment strategy
  - covered call
---

- any list
{:toc}
本文介绍持保看涨期权立权(covered call writing)相关的内容。



**风险提示：**

**期权投资风险巨大，请不要轻易尝试。**

**期权投资风险巨大，请不要轻易尝试。**

**期权投资风险巨大，请不要轻易尝试。**



# 策略介绍

covered call writing，中文叫持保看涨期权立权，或者备兑看涨，是一个组合策略，组合形式是**买入股票，同时卖出相应数量的call**。举个例子，股票XYZ现在价格是48，XYZ 7月50 call的价格是3，买入100股XYZ正股，同时卖出1张XYZ 7月50 call，这个组合就是covered call。分析股票在不同价格时组合的表现：

1. 如果XYZ在7月到期时低于50，call作废，赚了300权利金，相当于给股票提供了3点下行保护，股价45是组合的盈亏平衡点，低于45的时候，整个组合还是亏损的。
2. 如果XYZ在7月到期时刚好是50，call作废，赚了300权利金，同时股票上涨赚了200，总共500。
3. 如果XYZ在7月到期时超过50，call被行权，也就是说XYZ股票被人以50的价格买走，权利金加股票总共也是赚了500，这也是组合的最大盈利。

covered call是一个**中性略微看涨**的策略，由于收到了权利金，整个组合即使在股票略微下跌的情况下也能盈利，但也限制了最大盈利。最大盈利和盈亏平衡点的公式如下：

```
最大盈利 = 行权价 - 股票价格 + 看涨期权价格
盈亏平衡点 = 行权价 - 看涨期权价格
```

XYZ 7月50 covered call的数值表和图形如下所示：

![图一](/img/in-post/2021-02-17-option-strategy-covered-call/post-covered-call.png)

在股票下跌，横盘或者略微上涨的情况下，covered call的表现比单纯持有股票好，只有在股票大幅上涨的情况下，covered call不如股票。不应该在自己强烈看好的股票上使用covered call。



# 实值和虚值的选择

前文介绍过期权分为实值和虚值，covered call中应该选择哪一种期权？一般来说，**实值期权对股票下跌的保护范围大，但最大盈利低，虚值期权对股票下跌的保护范围小，但最大盈利高。**举个例子：

```
XYZ股票价格45
XYZ 7月40 call价格8
XYZ 7月50 call价格1
```

7月40 call提供了8点下行保护，而7月50 call只提供了1点下行保护。7月40 call的最大盈利是3，而7月50 call的最大盈利是6。实值期权偏保守，虚值期权偏激进。如果对股票看多，可以使用虚值期权，如果对股票的看法是中性，可以使用实值期权。两者的比较如下：

![图二](/img/in-post/2021-02-17-option-strategy-covered-call/post-covered-call-itm-otm.png)

有没有办法在实值和虚值之间平衡一下？一种办法是使用平值期权，比如使用XYZ 7月45 call，它的盈利会在实值和虚值之间，同时下行保护范围也在实值和虚值之间。另外一种办法是一半使用实值，另一半使用虚值。比如买入1000股XYZ，卖出5张7月40 call和5张7月50 call。有时没有平值期权就可以使用这种合成办法。比如苹果现在股价是133，9月17日的call没有133价格的，附近只有130和135的call，这时就可以使用这两个组合。



# 善后行动

建仓covered call之后，需要根据股票价格的涨跌以及期权到期日的临近做及时的调整。

## 下跌

股票如果下跌了，整个组合会面临亏损。因为covered call盈利有限，但是亏损可能很大，所以面对股票下跌时，应该及时止损，否则一个头寸的亏损就会抵消几个头寸的盈利。止损的一种办法是平仓整个组合，另一种办法是**向下移仓(roll down)**。做法是**买回原期权，卖出更低行权价的期权**。举个例子：一开始的组合是“按51的价格买入XYZ股票，按6卖出XYZ 1月50 call”，最大盈利是5点，平衡点是44。建仓后股票下跌，现在的价格是：

```
XYZ股票价格45
XYZ 1月50 call价格1
XYZ 1月45 call价格4
```

股票亏了6点，1月50 call赚了5点，总共亏了1点。注意这里还没到到期日，所以在平衡点上可能出现了亏损。现在采取向下移仓的策略，买回1月50 call，卖出1月45 call，在这次期权的移仓上总共赚了3点，平衡点变成了42，相当于是为股票的继续下跌提供了3点的保护，但同时组合的最大盈利从原来的5点也变成了3点。下图是移仓前后的数值表现和图形：

![图三](/img/in-post/2021-02-17-option-strategy-covered-call/post-covered-call-roll-down.png)

从图中可以看出，到期时，只要股价在48之下，向下移仓的表现会比不移仓的做法好。如果股价先下跌，然后又涨回到了48之上，不移仓的做法更好。但是从控制风险的角度考虑，我还是建议向下移仓，毕竟整个组合的盈利有限，尤其是在股价跌破了技术支撑面的时候。

另一种向下移仓的办法是**部分向下移仓**。比如只卖出一半的1月50 call，买入一半1月45 call，整个头寸就变成了XYZ正股，1月50 call和1月45call的组合。这种做法可以在增加股票下跌的保护和保留股票反弹的盈利之间寻求某种平衡。

第三种种移仓办法是**移仓到不同到期日**。比如判断股票不会在短期内反弹，这时可以移仓到短期期权，等短期期权过期后，收到权利金，再判断是否再卖出其他期权。

## 上涨

股票如果上涨了，整个组合已经盈利。如果期权变成了深度实值，整个组合已经接近最大盈利，这时可以选择把组合平仓，收回现金，寻找下一个covered call建仓机会。另一种选择是**向上移仓(roll up)**，做法是**买回原期权，卖出更高行权价的期权**。举个例子：一开始的组合是“按50买入XYZ股票，按6卖出XYZ 7月50 call”，最大盈利是6点，平衡点是44。建仓后股票上涨，现在的价格是：

```
XYZ股票价格60
XYZ 7月50 call价格11
XYZ 7月60 call价格7
```

如果向上移仓，买回7月50，卖出7月60，期权的盈利是2点，加上股票的盈利10点，只要股票价格超过60，最大盈利就是12点，原来最大盈利是6点。但是同时盈亏平衡点也从原来点44上升到了48。如果股票又跌回到了48，那就没有赚。通过向上移仓，增加了最大盈利，但也降低了下跌时到保护范围。下图是原始头寸和移仓后头寸的对比图：

![图四](/img/in-post/2021-02-17-option-strategy-covered-call/post-covered-call-roll-up.png)



# 套利

股票有三种运动方向：上涨，下跌，横盘。covered call在股票上涨，横盘和略微下跌时都能盈利，只有在大幅下跌时会亏损。这为套利提供了可能性。可以考虑设计这种策略：

1. 把资金分成10份，选择10个股票，每份投资一个covered call。
2. covered call选择短期期权，比如一个月。这样时间价值减少的最快。
3. 期权到期后，选择下一个月的期权，或者选择别的股票建仓covered call。
4. 下跌时采用上文介绍的善后策略止损。

分成10份的目的是为了做到分散，而且最好是在分散在不同的市场。因为熊市的时候，大部分股票都会跌，而熊市covered call可能会亏损。另外选股时可以选择卖出隐含波动率(IV)高的期权，这样权利金比较多。或者选择缓慢上涨的股票，比如公用事业股。这两个条件可能是矛盾的，需要回测看哪一个好。

这种策略据说可以低风险地达到年化10%以上收益。具体效果如何需要用历史数据来回测，有时间可以试试。

另外也可以考虑使用机器学习算法找到最合适的行权价和到期日，让年化收益尽量大。

整个策略可以写成程序化交易，让程序自动选股，自动建仓，自动平仓套利。


