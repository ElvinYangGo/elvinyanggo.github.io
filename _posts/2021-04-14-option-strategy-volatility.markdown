---
layout: post
title: "期权投资策略（七）：volatility"
author: "Yang"
header-style: text
tags:
  - option investment strategy
  - volatility
  - 波动率
---

- any list
{:toc}
本文介绍波动率(volatility)相关的内容。

（本系列文章的目的是加强自己的学习效果，内容主要来源于期权领域的经典[《期权投资策略》](https://book.douban.com/subject/26345971/)和自己的理解）



**风险提示：**

**期权投资风险巨大，请不要轻易尝试。**

**期权投资风险巨大，请不要轻易尝试。**

**期权投资风险巨大，请不要轻易尝试。**



# 什么是波动率

前文多次提到过波动率，波动率高的时候，期权价格也跟着上升，那究竟什么是波动率，波动率是怎么算出来的？

波动率(Volatility)有两种，一种是历史波动率(HV, History Volatility)，另一种是隐含波动率(IV, Implied Volatility)。

历史波动率的定义是股票价格的年化标准差。数学公式是：

![图一](/img/in-post/2021-04-14-option-strategy-volatility/post-volatility1.png)

根据正态分布，我们知道数值在1个标准差内的概率是68%，2个标准差内的概率是95%，3个标准差内的概率是99.7%。如果股票XYZ的历史波动率是32%，那么一年内XYZ的股价有68%的概率在32%的涨跌范围之内。

隐含波动率的意思就是市场自身隐含的波动率，它基于有效市场假说，认为行权价接近当前股价的期权和交易量比较大的期权的市场定价是合理的，然后把当前期权价格代入期权定价公式，计算出波动率，这个波动率就叫隐含波动率。前文我们介绍过期权的定价公式，通过股票价格、期权行权价、期权有效期、股票波动率、无风险利率来算出期权价格，现在期权价格已知，就可以反推出隐含波动率的值。



# vega

前文提到过两个希腊字母delta和theta，delta表示股价变动1点时对应的期权价格的变化值，theta表示期权价格随时间每天减少的值。波动率对期权价格造成的影响也有一个希腊字母表示，vega表示**波动率每变化一个百分点造成的期权价格变化值**。

举个例子，XYZ股价是50，XYZ 7月50 call的价格是7.25，计算出当前的IV是70%。如果IV变成了71%，根据期权定价模型计算出的XYZ 7月50 call的价格是7.35，也就是vega的值是 0.10。

vega有如下几个特点：

1. 相同行权价和到期日的call和put的vega值相同。
2. 平值期权的vega最大，随着实值和虚值的程度，vega值变小。
3. vega值随剩余时间的减少而减少，长期期权更容易受到波动率的影响。



# gamma

gamma指**股票价格变化1点时，delta变化的值**。

举个例子，XYZ股价是49，1月50 call的delta是0.5，gamma是0.05。如果XYZ的股价上涨1点到50，call的delta增加0.05，变成0.55。

gamma有如下几个特点：

1. 当股票价格接近行权价时，gamma的值最大，当股票价格离开行权价，不管朝哪个方向，gamma的值都减小。

2. 深度实值或深度虚值的期权的gamma接近于0。

3. 所有期权的gamma都是正数，不管是call还是put。
4. 平值短期期权的gamma高于长期期权的gamma。
5. 平值低波动率期权的gamma高于高波动率期权的gamma。



# 历史波动率和隐含波动率的关系

隐含波动率是市场对未来的预期，因为计算的时候是以当前期权价格倒推出的，而期权的当前价格体现了市场对股票未来的预期，如果市场预期股票未来会大涨，就很有可能愿意出较高的价格买入期权，从而导致隐含波动率升高。但是这个**预期可能是不准确的**，导致HV和IV之间的差别较大。

![图二](/img/in-post/2021-04-14-option-strategy-volatility/post-volatility2.png)

上图是某个股票的历史波动率和隐含波动率的对比图，可以看到**隐含波动率绝大部分情况都比历史波动率要高**。对于其他股票来说，也同样有这个规律，市场大部分情况会高估股票的波动。如果隐含波动率远高于历史波动率，买入期权就划不来，因为很可能隐含波动率会下降，这时期权的价格也会降低。对于卖出期权的人，这个时候就很划得来。因为波动率有这种均值回归的趋势，这也是波动率交易的盈利方式，在低波动率的时候做多波动率，在高波动率的时候做空波动率。

隐含波动率突然变大的原因有两个。一个是内幕消息，有人提前获知了股票的某个消息，认为股票会有巨大波动，这些人通过购买期权的方式提前埋伏。另外一个是有人想要套利，比如建仓covered call。



# 被误解的时间价值

我们介绍过期权的价格由内涵价值和时间价值两部分组成。时间价值这个说法不太准确，我们可以把除内涵价值之外的部分叫做**多余价值**。影响多余价值的因素其实有5个。包括：

1. 股票价格的变化
2. 隐含波动率的变化
3. 时间的消逝
4. 股息的变化
5. 利率的变化

这5个因素，除了股息的变化外，其他4个每个都有一个希腊字母字母来表示：

- 股票价格的变化： delta
- 隐含波动率的变化： vega
- 时间的消逝：theta
- 利率的变化：rho

其中股息和利率的变化对期权价格的影响相对较小。如果所有条件都不变，时间就会慢慢消磨掉期权的多余价值。但是如果以天为单位计算，一两天内时间对期权价值的影响可能没有delta和vega的影响大。举个例子：当前XYZ的股价是82，XYZ 1月80 call的价格是8，其中内涵价值是2，多余价值是6。如果某天期权的隐含波动率在50%之上，几个希腊字母的值可能如下：

```
delta   0.60
vege    0.13
theta  -0.06
```

也就是说股价的变化造成的影响最大，隐含波动率造成的影响有0.13，而时间消耗每天只有0.06。从这点看，**期权交易者的敌人不单是时间，波动率也可能是另外一个敌人**。如果隐含波动率高的时候买入期权，即使之后股价的方向猜对了，但是隐含波动率的下降可能会抵消掉股价的运动。



# 交易波动率

波动率具有均值回归的性质，这点和股票不一样，对于好公司而言，股票有可能长期上涨，但是波动率始终在一个范围内波动，不可能一直向上涨，这就为交易波动率提供了条件。

波动率交易有两种基本方法：

- 比较当前IV和历史IV

- 比较IV和HV

第一种方法是比较当前IV处于历史IV的百分位，判断当前IV是高还是低。比如当前IV处于90百分位，那就属于高位，很有可能会降低，这时就可以做空波动率。不过要注意波动率高低的绝对值，如果100百分位是45%，1百分位是40%，那就没有什么交易的空间。

第二种方法是比较当前IV和当前HV。因为IV和HV有靠拢的趋势，如果在两者差距很大的时候建仓，比如IV在60%，HV在40%的时候做空波动率。但是这种方法可能有问题。一是不知道这两者是否一定能靠拢或者多长时间后才能靠拢，二是即使靠拢也可能是两者都上涨或者下跌，比如两者都跌到30%。
